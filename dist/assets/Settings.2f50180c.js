import{_ as v,u as $,r as l,o as s,c as r,w as k,v as b,a as i,t as a,F as S,b as w,d as _,e as d,f as P,g as u,h as x,i as c,T as M,j as D}from"./index.56b35390.js";const N={data(){return{show:!0,settings:{},settingsLoaded:!1}},computed:{currentPage(){let t=$().path.split("/"),e=t[t.length-1];return!e||e==="settings"?null:e},showSubMenu(){return this.$root.isMobile?!this.currentPage:!0},subMenus(){return{general:{title:this.$t("General")},appearance:{title:this.$t("Appearance")},notifications:{title:this.$t("Notifications")},"reverse-proxy":{title:this.$t("Reverse Proxy")},"monitor-history":{title:this.$t("Monitor History")},"docker-hosts":{title:this.$t("Docker Hosts")},security:{title:this.$t("Security")},proxies:{title:this.$t("Proxies")},backup:{title:this.$t("Backup")},about:{title:this.$t("About")}}}},watch:{"$root.isMobile"(){this.loadGeneralPage()}},mounted(){this.loadSettings(),this.loadGeneralPage()},methods:{loadGeneralPage(){!this.currentPage&&!this.$root.isMobile&&this.$router.push("/settings/general")},loadSettings(){this.$root.getSocket().emit("getSettings",t=>{this.settings=t.data,this.settings.checkUpdate===void 0&&(this.settings.checkUpdate=!0),this.settings.searchEngineIndex===void 0&&(this.settings.searchEngineIndex=!1),this.settings.entryPage===void 0&&(this.settings.entryPage="dashboard"),this.settings.keepDataPeriodDays===void 0&&(this.settings.keepDataPeriodDays=180),this.settings.tlsExpiryNotifyDays===void 0&&(this.settings.tlsExpiryNotifyDays=[7,14,21]),this.settings.trustProxy===void 0&&(this.settings.trustProxy=!1),this.settingsLoaded=!0})},saveSettings(t,e){this.$root.getSocket().emit("setSettings",this.settings,e,h=>{this.$root.toastRes(h),this.loadSettings(),t&&t()})}}},E={class:"shadow-box"},B={class:"row"},C={key:0,class:"settings-menu col-lg-3 col-md-5"},L={class:"menu-item"},G={class:"menu-item"},I={class:"settings-content col-lg-9 col-md-7"},V={key:0,class:"settings-content-header"},R={class:"mx-3"};function T(t,e,h,A,f,o){const p=l("router-link"),m=l("font-awesome-icon"),y=l("router-view");return s(),r("div",null,[k(i("h1",{class:"mb-3"},a(t.$t("Settings")),513),[[b,f.show]]),i("div",E,[i("div",B,[o.showSubMenu?(s(),r("div",C,[(s(!0),r(S,null,w(o.subMenus,(n,g)=>(s(),_(p,{key:g,to:`/settings/${g}`},{default:d(()=>[i("div",L,a(n.title),1)]),_:2},1032,["to"]))),128)),t.$root.isMobile&&t.$root.loggedIn&&t.$root.socket.token!=="autoLogin"?(s(),r("a",{key:0,class:"logout",onClick:e[0]||(e[0]=P((...n)=>t.$root.logout&&t.$root.logout(...n),["prevent"]))},[i("div",G,[u(m,{icon:"sign-out-alt"}),x(" "+a(t.$t("Logout")),1)])])):c("",!0)])):c("",!0),i("div",I,[o.currentPage?(s(),r("div",V,a(o.subMenus[o.currentPage].title),1)):c("",!0),i("div",R,[u(y,null,{default:d(({Component:n})=>[u(M,{name:"slide-fade",appear:""},{default:d(()=>[(s(),_(D(n)))]),_:2},1024)]),_:1})])])])])])}const H=v(N,[["render",T],["__scopeId","data-v-cbe3734c"]]);export{H as default};
